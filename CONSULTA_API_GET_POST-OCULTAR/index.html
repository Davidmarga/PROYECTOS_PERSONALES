<!DOCTYPE html>
<html>
<head>
  <title>Ejemplos con GET y POST</title>
</head>
<body>

<h2>Formulario con GET</h2>
<form id="formGet">
  <input type="text" id="nombreGet" placeholder="Nombre"><br>
  <input type="email" id="emailGet" placeholder="Email"><br>
  <textarea id="mensajeGet" placeholder="Mensaje"></textarea><br>
  <button type="submit">Enviar GET</button>
</form>

<h3 id="respuestaGet"></h3>

<hr>

<h2>Formulario con POST</h2>
<form id="formPost">
  <input type="text" id="nombrePost" placeholder="Nombre"><br>
  <input type="email" id="emailPost" placeholder="Email"><br>
  <textarea id="mensajePost" placeholder="Mensaje"></textarea><br>
  <button type="submit">Enviar POST</button>
</form>

<h3 id="respuestaPost"></h3>

<script>
// ----- GET -----
document.getElementById('formGet').addEventListener('submit', function(e) {
  e.preventDefault();
  const nombre = document.getElementById('nombreGet').value;
  const email = document.getElementById('emailGet').value;
  const mensaje = document.getElementById('mensajeGet').value;

  const url = `http://localhost/PROYECTOS_PERSONALES/CONSULTA_API_GET_POST/api_get.php?nombre=${encodeURIComponent(nombre)}&email=${encodeURIComponent(email)}&mensaje=${encodeURIComponent(mensaje)}`;

  fetch(url)
    .then(res => res.json())
    .then(data => {
      document.getElementById('respuestaGet').textContent = data.mensaje;
    })
    .catch(err => {
      document.getElementById('respuestaGet').textContent = '❌ Error en la petición GET';
    });
});

// ----- POST -----
document.getElementById('formPost').addEventListener('submit', function(e) {
  e.preventDefault();
  const datos = {
    nombre: document.getElementById('nombrePost').value,
    email: document.getElementById('emailPost').value,
    mensaje: document.getElementById('mensajePost').value
  };

  fetch('http://localhost/PROYECTOS_PERSONALES/CONSULTA_API_GET_POST/api_post.php', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(datos)
  })
  .then(res => res.json())
  .then(data => {
    document.getElementById('respuestaPost').textContent = data.mensaje;
  })
  .catch(err => {
    document.getElementById('respuestaPost').textContent = '❌ Error en la petición POST';
  });
});
</script>

</body>
</html>